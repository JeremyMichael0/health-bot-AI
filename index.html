<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Advanced App</title>

<style>
:root {
  --bg: #f4f6f9;
  --text: #222;
  --primary: #4a90e2;
  --card: #ffffff;
}

body.dark {
  --bg: #121212;
  --text: #f1f1f1;
  --primary: #1f6feb;
  --card: #1e1e1e;
}

body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: var(--bg);
  color: var(--text);
  transition: 0.3s ease;
}

header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 15px 20px;
  background: var(--primary);
  color: white;
}

button {
  padding: 8px 14px;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  background: var(--primary);
  color: white;
  font-weight: bold;
  transition: 0.2s;
}

button:hover {
  opacity: 0.85;
}

.container {
  max-width: 400px;
  margin: 40px auto;
  background: var(--card);
  padding: 25px;
  border-radius: 10px;
  box-shadow: 0 5px 20px rgba(0,0,0,0.1);
  transition: 0.3s;
}

input {
  width: 100%;
  padding: 10px;
  margin: 8px 0;
  border-radius: 6px;
  border: 1px solid #ccc;
}

.hidden {
  display: none;
}

.small-btn {
  background: gray;
  font-size: 12px;
  padding: 5px 8px;
}

.dev-panel {
  margin-top: 15px;
  padding: 10px;
  background: rgba(0,0,0,0.05);
  border-radius: 6px;
  font-size: 12px;
  white-space: pre-line;
}
</style>
</head>
<body>

<header>
  <h2>Advanced App</h2>
  <button id="darkToggle">ðŸŒ™</button>
</header>

<!-- LOGIN PAGE -->
<div id="loginPage" class="container">
  <h3>Login</h3>
  <input type="text" id="username" placeholder="Username">
  <input type="password" id="password" placeholder="Password">
  <button onclick="login()">Login</button>
  <button onclick="showGuest()" class="small-btn">Continue as Guest</button>
  <p id="loginMessage" style="color:red;"></p>
</div>

<!-- DASHBOARD -->
<div id="dashboard" class="container hidden">
  <h3>Welcome, <span id="userDisplay"></span></h3>
  <button onclick="toggleDevPanel()">Developer Options</button>
  <button onclick="logout()" class="small-btn">Logout</button>

  <div id="devPanel" class="dev-panel hidden">
    <label>
      <input type="checkbox" id="debugToggle"> Enable Debug Mode
    </label>
    <br><br>
    <button onclick="clearStorage()" class="small-btn">Clear Storage</button>
    <hr>
    <div id="systemInfo"></div>
  </div>
</div>

<!-- GUEST PAGE -->
<div id="guestPage" class="container hidden">
  <h3>Guest Mode</h3>
  <p>You are browsing as a guest.</p>
  <button onclick="goBack()">Back to Login</button>
</div>

<script>
// Dark Mode
const darkToggle = document.getElementById("darkToggle");

if (localStorage.getItem("darkMode") === "enabled") {
  document.body.classList.add("dark");
}

darkToggle.addEventListener("click", () => {
  document.body.classList.toggle("dark");

  if (document.body.classList.contains("dark")) {
    localStorage.setItem("darkMode", "enabled");
  } else {
    localStorage.setItem("darkMode", "disabled");
  }
});

// Login Function
function login() {
  const username = document.getElementById("username").value.trim();
  const password = document.getElementById("password").value.trim();
  const message = document.getElementById("loginMessage");

  if (!username || !password) {
    message.textContent = "Please fill in all fields.";
    return;
  }

  // Demo credentials
  if (username === "admin" && password === "1234") {
    document.getElementById("loginPage").classList.add("hidden");
    document.getElementById("dashboard").classList.remove("hidden");
    document.getElementById("userDisplay").textContent = username;
    message.textContent = "";
  } else {
    message.textContent = "Invalid username or password.";
  }
}

// Guest Mode
function showGuest() {
  document.getElementById("loginPage").classList.add("hidden");
  document.getElementById("guestPage").classList.remove("hidden");
}

function goBack() {
  document.getElementById("guestPage").classList.add("hidden");
  document.getElementById("loginPage").classList.remove("hidden");
}

// Logout
function logout() {
  document.getElementById("dashboard").classList.add("hidden");
  document.getElementById("loginPage").classList.remove("hidden");
}

// Developer Panel
function toggleDevPanel() {
  const panel = document.getElementById("devPanel");
  panel.classList.toggle("hidden");

  if (!panel.classList.contains("hidden")) {
    updateSystemInfo();
  }
}

function updateSystemInfo() {
  const info = `
Browser: ${navigator.userAgent}
Platform: ${navigator.platform}
Language: ${navigator.language}
Dark Mode: ${document.body.classList.contains("dark")}
Local Storage Keys: ${Object.keys(localStorage).length}
  `;
  document.getElementById("systemInfo").textContent = info;
}

// Debug Mode
document.getElementById("debugToggle").addEventListener("change", function() {
  if (this.checked) {
    console.log("Debug Mode Enabled");
  } else {
    console.log("Debug Mode Disabled");
  }
});

// Clear Storage
function clearStorage() {
  localStorage.clear();
  alert("Local storage cleared.");
}
</script>

</body>
</html>
